---
layout: blog
title: OpenClaw 설치하기 with Docker
tags:
- ollama
- openclaw
---

[moltbook](https://www.moltbook.com/) 등의 여러 AI Agent Issue 들이 뉴스에 노출 될 때마다 주식시장 및 여론이 바뀌는 현상이 자주 발생하고 있다. 이러한 AI 작업을 진행하는 본체는 LLM 모델로 동일하지만 보다 사용자 친화적인 UX/UI 들이 파생되고 있고 이로써 많은 사용자들이 접근함으로써 다양한 시장이 열리는 기회로써 바라보면 긍정적인 부분이 많다고 생각합니다.

이번에 알아볼 내용은 `OpenClaw` 를 설치 및 시작하는 방법에 대하여 살펴보겠습니다. `OpenClaw` 는 LLM Agent 를 보다 Long Term 의 메모리를 부여하고, 시스템을 제어하는 권한까지 추가함으로써 보다 사용자 중심적인 내용을 수집하고 운영체계까지 관리 가능한 Depandency 도구와 연결을 도와주는 `OpenSource` 입니다. 이와같은 편리성과 함께 위험성을 갖고 있어서 `DockerFile` 을 활용한 컨테이너 환경에서 실행하는 방법에 대하여 살펴보겠습니다.

<br/>

# Install
## docker compose 설치하기
Ubuntu 24 환경에서는 [phioranex/openclaw-docker](https://github.com/phioranex/openclaw-docker) 에서 작성한 스크립트를 활용하여 설치를 진행합니다.

<figure class="align-center">
  <p style="text-align: center">
  <img width="1425px" src="{{site.baseurl}}/assets/llm/openclaw_01_install.png">
  </p>
  <figcaption>설치</figcaption>
</figure>

Ollama 모델의 연결은 다음과 같습니다.

<figure class="align-center">
  <p style="text-align: center">
  <img width="918px" src="{{site.baseurl}}/assets/llm/openclaw_02_setting.png">
  </p>
  <figcaption>Model 정의</figcaption>
</figure>

설치과정에  접속방법에 대한 설명을 보실 수 있습니다.

<figure class="align-center">
  <p style="text-align: center">
  <img width="1203px" src="{{site.baseurl}}/assets/llm/openclaw_03_uiux.png">
  </p>
  <figcaption>접속 파라미터</figcaption>
</figure>

최종 설정이 완료되면 다음과 같은 안내내용을 확인할 수 있습니다.

```bash
╔══════════════════════════════════════════════════════════════╗
║                                                              ║
║              🎉 OpenClaw installed successfully! 🎉          ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝

Quick reference:
  Dashboard:      http://localhost:18790/?token=YOUR_TOKEN
  GET TOKEN:      http://localhost:18790/?token=YOUR_TOKEN
  Config:         ~/.openclaw/
  Workspace:      cat ~/.openclaw/openclaw.json| grep 'token:' | grep -v 'mode' | cut -d '"' -f4
  Install dir:    /home/buffet/openclaw

Useful commands:
  View logs:      docker logs -f openclaw-gateway
  Stop:           cd /home/buffet/openclaw && docker compose down
  Start:          cd /home/buffet/openclaw && docker compose up -d openclaw-gateway
  Restart:        cd /home/buffet/openclaw && docker compose restart openclaw-gateway
  CLI:            cd /home/buffet/openclaw && docker compose run --rm openclaw-cli <command>
  Update:         docker pull ghcr.io/phioranex/openclaw-docker:latest && cd /home/buffet/openclaw && docker compose up -d

Documentation:  https://docs.openclaw.ai
Support:        https://discord.gg/clawd
Docker image:   https://github.com/phioranex/openclaw-docker
```

<!-- 
<figure class="align-center">
  <p style="text-align: center">
  <img width="1203px" src="{{site.baseurl}}/assets/llm/openclaw_04_report.png">
  </p>
  <figcaption>최종결과 및 사용방법 안내</figcaption>
</figure> 
-->

<br/>

# Config Files
## Telegram 등록하기
`OpenClaw` 를 설치하면서 Token 값을 입력하면 기본적인 연결이 완료 됩니다. 그리고 해당 텔레그램 채널에 접속하면 아래와 같은 화면을 출력 합니다.

<figure class="align-center">
  <p style="text-align: center">
  <img width="1203px" src="{{site.baseurl}}/assets/llm/openclaw_05_telegram.png">
  </p>
  <figcaption>최종결과 및 사용방법 안내</figcaption>
</figure>

텔레그램에서 `Pairing Code` 를 확인하고 해당 코드를 Host 에서 실행중인 `OpenClaw` 에서 다음과 같이 등록하여야 설정이 완료 됩니다.
```bash
$ docker compose run --rm openclaw-cli pairing approve telegram 4Wxxx...
```

## Docker Compose
위 스크립트를 활용하여 `Docker Compose` 설치파일이 저장되는 위치는 다음과 같습니다.
```bash
$ cd ~/openclaw
$ tree -L 2
.
└── docker-compose.yml
```
앞의 Docker Compose 내용을 살펴보면 `volume` 관련 설정내용은 다음과 같습니다. 이 내용을 참고하여 `~/.openclaw` 폴더에 사용자 Token 등의 설정파일들이 저장되어 있는것을 확인할 수 있습니다.

```yml
services:
  openclaw-gateway:
    image: ghcr.io/phioranex/openclaw-docker:latest
    ...
    volumes:
      - ~/.openclaw:/home/node/.openclaw
      - ~/.openclaw/workspace:/home/node/.openclaw/workspace
    ports:
      - "18789:18789"
      - "18790:18790"
    environment:
      - NODE_ENV=production
      - OPENCLAW_SKIP_SERVICE_CHECK=true

  openclaw-cli:
    image: ghcr.io/phioranex/openclaw-docker:latest
    ...
    volumes:
      - ~/.openclaw:/home/node/.openclaw
      - ~/.openclaw/workspace:/home/node/.openclaw/workspace
    environment:
      - NODE_ENV=production
    entrypoint: ["node", "/app/dist/index.js"]
    profiles:
      - cli
```

## Web 접속하기
위 내용으로 실행을 하면 CLI 에서는 접속 가능하지만 OpenClaw 의 `Web UI` 접속이 안되는 문제가 발생하였습니다. 이를 해결하기 위해서 docker compose 설정값에 외부연결이 가능하도록 환경변수를 추가한 뒤 Docker Container Re Build 를 하면 해결됩니다.
```bash
services:
  openclaw-gateway:
    environment:
      ...
      # 외부 IP 접속을 위해: 모든 IP로부터의 접속을 허용합니다.
      - OPENCLAW_GATEWAY_HOST=0.0.0.0
      - OPENCLAW_GATEWAY_PORT=18789
```

위의 내용을 추가한 뒤 재 실행중인 Host의 브라우저에서 `http://localhost:18790/?token=${YOUR_TOKEN}` 로 접속합니다. `OpenClaw GateWay DashBoard` 웹 페이지를 확인할 수 있습니다.

<figure class="align-center">
  <p style="text-align: center">
  <img width="1203px" src="{{site.baseurl}}/assets/llm/openclaw_06_web.png">
  </p>
  <figcaption></figcaption>
</figure>

