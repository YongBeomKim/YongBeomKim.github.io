---
layout: blog
title: ubuntu 설치시 Intel VMD
tags:
- ubuntu
---

[Intel® Core™ Ultra 9 Processor 275HX](https://www.intel.co.kr/content/www/kr/ko/products/sku/242293/intel-core-ultra-9-processor-275hx-36m-cache-up-to-5-40-ghz/specifications.html) 과 `RTX 5070 Ti Mobile` 을 포함한 [Predator Helios Neo 16S AI 5070 Ti 16GRAM](https://www.acer.com/kr-ko/predator/laptops/helios/helios-neo-16s-ai) 노트북을 구매 했습니다.

Linux 운영체계를 USB Booting 으로 몇가지 테스트해본 결과 [Try COSMIC Epoch 1 (alpha 7) on the Pop!_OS 24.04 LTS alpha](https://system76.com/cosmic/) 그리고 [Ubuntu 24.04.3 LTS](https://ubuntu.com/download/desktop) 이 둘이 부팅에 성공했습니다. 참고로 `Pop-os LTS 24` 는 아직 정식버젼이 아니라서 그런지 YouTube 를 전체화면으로 실행하면 중간에 멈추는 경우가 있었습니다. 우선 한달동안 테스트를 진행하며 내용을 지켜보도록 하겠습니다.

## MBR 과 GPT
부팅 USB 를 생성하기 위하여 변경가능한 설정내용을 보면 `MBR / BIOS 또는 UEFI` 방식과 `GPT / UEFI (비 CMS)` 2가지가 있습니다. 개벼 내용에 대한 자세한 내용은 [MBR 와 GPT 뭐가 다른거야 딱 정리해드립니다](https://m-moti.tistory.com/entry/MBR%EA%B3%BC-GPT-%EB%AD%90%EA%B0%80-%EB%8B%A4%EB%A5%B8-%EA%B1%B0%EC%95%BC-%EB%94%B1-%EC%A0%95%EB%A6%AC%ED%95%B4%EB%93%9C%EB%A6%BD%EB%8B%88%EB%8B%A4) 를 참고합니다. 여기서는 `GPT / UEFI` 방식이 최근의 스토리지 관리 방식으로 이러한 설정값을 활용하여 저장장치들을 지속적으로 관리를 하면 됩니다.

<figure class="align-center">
  <p style="text-align: center">
  <img width="410px" src="{{site.baseurl}}/assets/linux/ubuntu_24_lts.jpg">
  </p>
  <figcaption>최신의 GPT 방식으로 Ubuntu 24 설치하기</figcaption>
</figure>

<br/>

# NVME SSD 인식안되는 문제
BIOS 에서는 Secure Boot를 `Disabled`로 변경했음에도 불구하고, UEFI 전용 노트북에서 AHCI 모드 변경이 불가능하여 Ubuntu 24가 SSD를 인식하지 못하는 문제는 다음과 같은 원인과 해결 방법을 가지고 있습니다.

[Intel® Core™ Ultra 9 Processor 275HX](https://www.intel.co.kr/content/www/kr/ko/products/sku/242293/intel-core-ultra-9-processor-275hx-36m-cache-up-to-5-40-ghz/specifications.html) 프로세스가 25년도 1분기에 출시된 신제품으로 노트북의 SSD 컨트롤러가 **Intel VMD (Volume Management Device)** 또는 **Intel RST (Rapid Storage Technology)** 모드를 기본값으로 설정되어 있습니다.  `Windows 11` 및 `Ubuntu 24` 운영체계들이 이러한 최신기능을 모두 지원하지 못해서, 노트북에 설치된 NVME SSD 를 인식하지 못하는 문제가 발생합니다.

## 원인: Intel VMD (Volume Management Device)
가장 유력한 원인은 노트북의 SSD 컨트롤러가 **Intel VMD (Volume Management Device)** 또는 **Intel RST (Rapid Storage Technology)** 모드로 설정되어 있기 때문입니다. 특히 2020년 이후에 출시된 최신 노트북, 특히 Intel 11세대 이상의 CPU를 탑재한 모델에서 흔히 볼 수 있는 현상입니다.

  * **문제점:** Intel VMD는 여러 개의 NVMe 드라이브를 하나로 묶어 RAID를 구성하거나, 성능 최적화를 위해 Intel에서 자체적으로 만든 기술입니다. 이 모드는 리눅스 커널에 기본적으로 포함되지 않은 독점 드라이버를 요구합니다. 따라서 Ubuntu 설치 프로그램이 SSD를 물리적인 장치로 인식하지 못하고, 마치 SSD가 존재하지 않는 것처럼 보이는 것입니다.
  * **AHCI 변경 불가능:** 일부 노트북 제조사는 UEFI/BIOS에서 RAID On 모드와 AHCI 모드 간의 전환 옵션을 아예 제공하지 않거나, VMD 모드가 활성화된 상태에서는 AHCI 옵션이 숨겨져 있어 사용자가 직접 변경할 수 없게 만듭니다.

해결 방법으로는 설치 중 Intel VMD 드라이버 로드하면 됩니다. AHCI로 변경할 수 없는 상황에서는 Ubuntu 설치 과정에서 필요한 Intel VMD 드라이버를 로드해 주어야 합니다. 다행히 Ubuntu 24는 이러한 문제를 해결하기 위한 방법을 제공하고 있습니다.

## Windows 11
[ACER Predator PHN16-73 지원 드라이버](https://www.acer.com/kr-ko/support/product-support/Predator%20PHN16-73/downloads) 페이지에서 	[IRST (Intel® Rapid Storage Technology) 드라이버](https://global-download.acer.com/GDFiles/Driver/IRST/IRST_Intel_20.2.1.1016_W11x64_A.zip?acerid=638822048065522576&Step1=&Step2=&Step3=PREDATOR%20PHN16-73&OS=ALL&LC=ko&BC=ACER&SC=AAP_11) 설치파일을 제공하고 있습니다. 해당 파일을 `Windows 11 USB` 에 복사한 뒤 설치시 활용하는 방법으로 해결 가능합니다.

[Hard Drive Partition not showing while installing Windows 10/11 | Fix "we couldn't find any drives"](https://youtu.be/mUCCvdtY34U?si=bmr1TMqlq3yoIkiU&t=159) 를 참고합니다.

<br/>

# Ubuntu 24
BIOS 에서 AHCI로 변경할 수 없는 상황에서는 Ubuntu 설치 과정에서 필요한 Intel VMD 드라이버를 로드해 주어야 합니다. 다행히 Ubuntu 24는 이러한 문제를 해결하기 위한 방법을 제공하고 있습니다.

## 방법 1: Ubuntu 설치 옵션 (부팅 파라미터) 추가
이 방법은 Ubuntu 설치 프로그램이 부팅될 때, VMD 드라이버를 강제로 활성화하도록 지시하는 것입니다.

1.  **Ubuntu 부팅 USB로 부팅:** 노트북을 다시 시작하고 Ubuntu 부팅 USB로 부팅합니다.
2.  **GRUB 메뉴 진입:** Ubuntu 설치 시작 화면(Try or Install Ubuntu)이 나타나면 `e` 키를 눌러 GRUB 부팅 옵션 편집 모드로 들어갑니다.
3.  **부팅 파라미터 수정:** `linux`로 시작하는 줄을 찾습니다. 이 줄의 끝부분에 다음과 같은 파라미터를 추가합니다.
    ```
    intel_iommu=on
    ```
    또는
    ```
    nvme_core.default_ps_max_latency_us=0
    ```
    일부 시스템에서는 `pci=nommu`와 같은 옵션이 도움이 될 수도 있습니다.
4.  **부팅:** `F10` 또는 `Ctrl + X`를 눌러 수정된 설정으로 부팅을 진행합니다.

이 방법으로 SSD가 인식될 경우, 설치를 완료하고 재부팅 시에도 동일한 파라미터를 GRUB에 영구적으로 추가해 주어야 합니다.

## 방법 2: Pre-installation 드라이버 다운로드 (더 확실한 방법)
일부 노트북 제조사 (특히 HP, Dell)는 Intel VMD 드라이버를 설치 과정에서 로드할 수 있도록 `.deb` 또는 `.ko` 파일을 제공하기도 합니다. Ubuntu 설치 USB에 해당 드라이버 파일을 포함시켜 부팅 시 로드하는 방식입니다.

1.  **드라이버 다운로드:** 다른 PC를 사용하여 해당 노트북 모델에 맞는 "Intel RST VMD Linux Driver"를 제조사 웹사이트에서 다운로드합니다. 보통 `.zip` 또는 `.tar.gz` 형식으로 제공됩니다.
2.  **Ubuntu USB에 복사:** 다운로드한 파일을 Ubuntu 부팅 USB에 복사합니다.
3.  **설치 시작:** 복사된 USB로 노트북을 부팅합니다.
4.  **드라이버 로드:** Ubuntu 설치 화면에서 \*\*"Try Ubuntu"\*\*를 선택하여 라이브 세션으로 진입합니다.
5.  **터미널 열기:** 라이브 세션에서 터미널을 엽니다.
6.  **드라이버 설치:**
      * USB 드라이브를 마운트합니다. (예: `sudo mkdir /mnt/usb` -\> `sudo mount /dev/sdb1 /mnt/usb`)
      * 압축을 해제하고 드라이버 파일(보통 `.ko` 확장자)을 찾습니다.
      * `sudo insmod [드라이버 파일 경로]` 명령어를 사용하여 드라이버를 수동으로 로드합니다.
7.  **설치 진행:** 드라이버 로드 후, 바탕화면의 "Install Ubuntu" 아이콘을 클릭하여 설치를 진행합니다. 이제 SSD가 정상적으로 보일 것입니다.

## 추가적인 고려 사항 및 정리

  * **Linux 커널 버전:** Ubuntu 24는 최신 커널(6.8 이상)을 사용하고 있어 이전 버전에 비해 Intel VMD 지원이 강화되었지만, 일부 특정 노트북 모델에서는 여전히 드라이버 문제가 발생할 수 있습니다.
  * **RAID 구성 해제:** 만약 SSD가 실제로 RAID로 구성되어 있다면 (노트북에 SSD가 두 개 이상 장착된 경우), 이 RAID를 해제하고 각 드라이브를 개별적으로 인식하도록 설정해야 할 수 있습니다. 이 작업은 Windows에서 Intel Rapid Storage Technology(IRST) 소프트웨어를 이용하거나, UEFI/BIOS에서 RAID 구성을 삭제하는 방식으로 가능합니다.
  * **재부팅 시 문제:** VMD 드라이버를 로드하여 설치를 완료했더라도, 재부팅 후 부팅이 되지 않을 수 있습니다. 이 경우, `efibootmgr` 명령어를 이용하여 부트로더를 수동으로 지정하거나, `chroot` 환경에서 GRUB을 재설치하는 고급 작업이 필요할 수 있습니다.

**결론적으로, AHCI 모드 변경이 불가능한 UEFI 전용 노트북에서는 SSD가 Intel VMD 모드로 동작하고 있을 가능성이 매우 높습니다. 가장 쉬운 해결책은 부팅 파라미터를 추가하는 것이며, 이것이 실패할 경우 제조사가 제공하는 리눅스용 VMD 드라이버를 수동으로 설치하는 방법이 필요합니다.**

------- SOlution 02

UEFI 쉘로 부팅되는 노트북에서 Ubuntu 24 부팅 USB로 부팅 시 SSD를 인식하지 못하는 문제는 몇 가지 원인이 있을 수 있습니다.

**1. SSD 컨트롤러 모드 설정 (가장 흔한 원인)**

* **문제:** 최신 노트북들은 일반적으로 SSD의 성능을 최대로 끌어올리기 위해 RAID On (또는 Intel VMD - Volume Management Device) 모드로 설정되어 출고됩니다. 하지만 Linux 커널은 기본적으로 이 모드를 지원하지 않거나, 관련 드라이버가 포함되어 있지 않을 수 있습니다. 이로 인해 Ubuntu 설치 프로그램이 SSD를 인식하지 못하게 됩니다.
* **해결 방법:**
    1. **UEFI/BIOS 설정 진입:** 노트북 부팅 시 F2, F10, F12, Del 키 등을 눌러 UEFI/BIOS 설정 화면으로 들어갑니다.
    2. **SATA/SSD 컨트롤러 모드 변경:** "Storage", "Advanced", "Main" 등의 메뉴에서 "SATA Mode", "VMD", "RAID" 등의 항목을 찾습니다.
    3. **AHCI 모드로 변경:** 해당 모드를 "AHCI" (Advanced Host Controller Interface)로 변경합니다. AHCI는 모든 운영체제에서 널리 지원되는 표준 모드입니다.
    4. **설정 저장 후 재부팅:** F10 키 등을 눌러 변경된 설정을 저장하고 재부팅합니다.
    5. **다시 Ubuntu USB로 부팅:** 이제 Ubuntu 설치 프로그램이 SSD를 정상적으로 인식할 것입니다.

**2. Secure Boot 설정**

* **문제:** Secure Boot는 UEFI의 보안 기능 중 하나로, 서명된 부트로더만 실행되도록 제한합니다. 일부 Linux 배포판의 부트로더가 Secure Boot와 호환되지 않는 경우, 부팅 과정에서 문제가 발생할 수 있습니다.
* **해결 방법:**
    1. **UEFI/BIOS 설정 진입:** UEFI/BIOS 설정 화면으로 들어갑니다.
    2. **Secure Boot 비활성화:** "Security" 또는 "Boot" 메뉴에서 "Secure Boot" 항목을 찾아 "Disabled"로 설정합니다.
    3. **설정 저장 후 재부팅:** F10 키를 눌러 설정을 저장하고 재부팅합니다.

**3. Linux 커널 버전 및 드라이버 문제**

* **문제:** Ubuntu 24의 커널이 특정 SSD 컨트롤러 또는 NVMe 드라이버를 기본적으로 지원하지 않을 수 있습니다. 특히 매우 최신 모델의 경우 이러한 문제가 발생할 수 있습니다.
* **해결 방법:**
    * **임시 해결책 (부팅 옵션 추가):**
        * Ubuntu 부팅 USB의 GRUB 메뉴에서 'e' 키를 눌러 편집 모드로 들어갑니다.
        * `linux`로 시작하는 줄의 끝에 `nvme_core.default_ps_max_latency_us=0` 또는 `acpi_rev_override=1`와 같은 부팅 옵션을 추가해 봅니다. 이는 특정 하드웨어 문제를 우회하는 데 도움이 될 수 있습니다.
    * **근본적인 해결책:**
        * **Ubuntu 24.04.1 (또는 최신 버전) 사용:** 새로운 Ubuntu 버전이 출시될 때마다 더 많은 하드웨어 드라이버가 포함되므로, 최신 버전의 ISO 이미지를 다운로드하여 시도해 봅니다.
        * **커널 모듈 수동 로드:** 고급 사용자의 경우, Ubuntu 설치 환경에서 `lsmod` 명령어로 현재 로드된 드라이버를 확인하고, 필요한 모듈(예: `nvme`)이 로드되지 않았다면 `modprobe` 명령어를 사용하여 수동으로 로드해 볼 수 있습니다.

**4. USB 포트 또는 USB 드라이브 문제**

* **문제:** 간혹 USB 3.0 포트나 특정 USB 드라이브가 문제를 일으킬 수 있습니다.
* **해결 방법:**
    * **다른 USB 포트 사용:** USB 2.0 포트나 다른 USB 포트에 부팅 USB를 꽂아 봅니다.
    * **다른 USB 드라이브 사용:** 다른 USB 드라이브에 Ubuntu 이미지를 다시 구워서 시도해 봅니다.

**정리:**

대부분의 경우 **UEFI/BIOS에서 SSD 컨트롤러 모드를 AHCI로 변경**하는 것이 가장 빠르고 확실한 해결 방법입니다. 이 방법으로 문제가 해결되지 않는다면 Secure Boot 비활성화, 부팅 옵션 추가 등을 순서대로 시도해 보는 것이 좋습니다.

**주의:** UEFI/BIOS 설정을 변경할 때는 신중해야 하며, 어떤 설정을 변경했는지 기억해 두는 것이 좋습니다. 잘못된 설정 변경은 시스템 부팅에 문제를 일으킬 수 있습니다.





======= SOlution 03

이 문제는 꽤 복잡하지만, 핵심은 **Intel VMD (Volume Management Device)** 기능이 활성화되어 있을 때 **Ubuntu 24.04에서 NVMe SSD를 인식하지 못하는 경우**입니다. 아래에 원인과 해결 방법을 정리해드릴게요.

---

## 🧩 문제 원인

1. **Intel VMD가 활성화된 상태**
   - Intel VMD는 CPU에 직접 연결된 NVMe SSD를 관리하는 기능입니다.
   - 이 기능이 활성화되면, 리눅스 커널이 기본적으로 SSD를 인식하지 못할 수 있습니다.

2. **AHCI 모드로 변경 불가**
   - 일부 BIOS에서는 AHCI 설정이 숨겨져 있거나 VMD가 우선 적용되어 RAID/AHCI 설정을 변경할 수 없습니다.

3. **UEFI 전용 부팅**
   - Legacy BIOS가 비활성화된 상태에서는 일부 드라이버나 설정이 제한될 수 있습니다.

---

## 🛠️ 해결 방법

### 1. BIOS에서 VMD 비활성화
일부 제조사 (예: Acer, Dell 등)는 VMD 설정을 숨겨놓습니다. 아래 방법을 시도해보세요:

- BIOS → **Advanced** → **Integrated Peripherals** 메뉴로 이동
- **Onboard SATA Controller**를 비활성화
- **Ctrl + S** 키를 누르면 숨겨진 **VMD Controller** 옵션이 나타남
- VMD Controller를 **Disabled**로 설정
- 저장 후 재부팅 → Ubuntu 설치 USB로 부팅

이후에는 Ubuntu 설치 프로그램에서 SSD가 정상적으로 인식됩니다.

---

### 2. VMD를 Ubuntu 24에서 활성화하고 사용하는 방법

만약 VMD를 **비활성화할 수 없는 경우**, Ubuntu에서 VMD를 지원하도록 설정할 수 있습니다.

#### ✅ 필요한 조건
- Intel Xeon Scalable CPU 또는 VMD 지원 칩셋
- 최신 Ubuntu 24.04 LTS (서버 버전 권장)
- 커널 5.15 이상 (VMD 드라이버 포함)

#### 📦 설치 및 설정 절차

1. **mdadm 및 ledmon 설치**
```bash
sudo apt update
sudo apt install mdadm ledmon
```

2. **RAID 장치 확인**
   - 설치 중에 VROC RAID 장치를 선택할 수 있어야 합니다.
   - GRUB 부팅 화면에서 Ubuntu 설치를 시작하고 RAID 장치를 선택

3. **ledmon 서비스 등록 (선택 사항)**
```bash
sudo vi /etc/systemd/system/ledmon.service
```
```ini
[Unit]
Description=Enclosure LED Utilities

[Service]
ExecStart=/usr/sbin/ledmon
Type=forking

[Install]
WantedBy=multi-user.target
```
```bash
sudo systemctl enable ledmon.service
sudo systemctl start ledmon.service
```

4. **VMD 드라이버 확인**
```bash
lsmod | grep vmd
```
- `vmd` 모듈이 로드되어 있어야 정상적으로 인식됩니다.

---

## 💡 참고 팁

- Ubuntu Desktop 버전은 VROC/VMD에 대해 공식적으로 검증되지 않았습니다. 가능하면 **Ubuntu Server 버전**을 사용하세요.
- BIOS 업데이트가 필요한 경우, 제조사 웹사이트에서 최신 펌웨어를 확인하세요.
- 일부 시스템에서는 VMD를 비활성화하지 않으면 Ubuntu 설치가 불가능합니다. 이 경우 Windows에서 AHCI로 전환하는 절차를 먼저 수행해야 할 수도 있습니다.

---

필요하시면 설치 중 발생하는 오류 메시지나 BIOS 화면 캡처를 공유해주시면 더 구체적으로 도와드릴 수 있어요.






=========== SOLITON 04
이 상황은 최근 고성능 노트북이나 워크스테이션에서 자주 발생하는 문제입니다. 특히 Intel 플랫폼에서 **VMD (Volume Management Device)** 기능이 활성화된 경우, Ubuntu 설치 시 SSD가 인식되지 않는 현상이 발생할 수 있습니다. 아래에 원인과 해결 방법을 정리해드릴게요.

---

## 🧩 문제 원인

1. **Intel VMD 기능 활성화**
   - 일부 시스템에서는 AHCI 설정이 불가능하고, 대신 Intel VMD가 NVMe SSD를 관리합니다.
   - VMD가 활성화되면 SSD가 일반적인 PCIe 장치로 인식되지 않고, Ubuntu 설치 시 드라이버가 없으면 SSD를 감지하지 못합니다.

2. **UEFI 전용 부팅**
   - Legacy BIOS가 비활성화된 상태에서는 일부 드라이버 로딩 방식이 제한될 수 있습니다.
   - Secure Boot가 꺼져 있어도, VMD가 활성화된 상태에서는 영향을 받지 않습니다.

3. **Ubuntu 기본 설치 이미지의 드라이버 부족**
   - Ubuntu 24.04는 최신 커널을 포함하지만, 일부 OEM VMD 설정을 인식하지 못할 수 있습니다.

---

## 🛠️ 해결 방법

### ✅ 1. BIOS에서 VMD 비활성화 (가능한 경우)

- BIOS에 따라 VMD 설정이 숨겨져 있을 수 있습니다.
- 일부 시스템에서는 **Ctrl + S** 키를 누르면 숨겨진 메뉴가 나타납니다.
- 메뉴 이름 예시:
  - `Intel VMD Technology` → **Disabled**
  - `VMD Controller` → **Disabled**
- 저장 후 재부팅 → Ubuntu 설치 USB로 부팅 → SSD 인식 확인

> ⚠️ 제조사에 따라 VMD 설정이 잠겨 있을 수 있습니다. 이 경우 아래 방법으로 우회해야 합니다.

---

### ✅ 2. Ubuntu 설치 시 VMD 드라이버 로딩

만약 VMD를 끌 수 없다면, Ubuntu 설치 시 VMD 드라이버를 수동으로 로딩해야 합니다.

#### 방법 A: 설치 USB에서 드라이버 수동 로딩

1. 설치 화면에서 `Try Ubuntu` 선택
2. 터미널 열기 (`Ctrl + Alt + T`)
3. 다음 명령어 실행:
```bash
ls /sys/class/block
```
→ SSD가 보이지 않으면 VMD 드라이버가 미로드 상태

4. VMD 드라이버 수동 로딩:
```bash
sudo modprobe vmd
```

5. 다시 SSD 확인:
```bash
lsblk
```
→ SSD가 나타나면 설치 진행 가능

#### 방법 B: 설치 시 커널 파라미터 추가

1. GRUB 설치 화면에서 `e` 키를 눌러 편집
2. `linux` 줄 끝에 다음 추가:
```
nvme_load=YES vmd_load=YES
```
3. `Ctrl + X` 또는 `F10`으로 설치 시작

---

### ✅ 3. Ubuntu Server 버전 사용

- Desktop 버전보다 Server 버전은 RAID/VMD 환경에서 인식률이 높습니다.
- 설치 후 GUI를 추가할 수 있습니다:
```bash
sudo apt install ubuntu-desktop
```

---

## 💡 추가 팁

- 최신 BIOS로 업데이트하면 VMD 설정이 노출되는 경우도 있습니다.
- Dell, HP, Lenovo 등 제조사별로 BIOS 접근 방식이 다르므로, 모델명에 따라 공식 문서를 참고하세요.
- 설치 후에도 SSD가 인식되지 않으면 `dmesg | grep vmd`로 커널 로그를 확인해보세요.

---

필요하시면 시스템 모델명이나 BIOS 화면 사진을 공유해주시면 더 구체적으로 도와드릴 수 있어요. SSD가 NVMe인지 SATA인지도 알려주시면 좋고요.



==== SOLTION 06

이 모델에서 Ubuntu 24 설치 시 NVMe SSD가 전혀 보이지 않는 건, 거의 100% **Intel VMD(Volume Management Device)** 기능이 켜져 있기 때문입니다.  
Acer Predator Helios Neo 16 PHN16-73는 기본적으로 **AHCI 전환이 불가능**하고, NVMe 컨트롤러가 VMD를 통해 CPU에 연결됩니다.  
Windows에서는 Intel RST 드라이버가 자동으로 잡히지만, Ubuntu는 설치 시 기본적으로 이 VMD 장치를 인식하지 못해 SSD가 “없다”는 상태로 나오는 거죠.

---

## 🔍 원인
1. **Intel VMD 활성화**
   - BIOS에서 AHCI 모드로 바꿀 수 없고, NVMe가 VMD 하위 장치로 묶여 있음.
   - 리눅스 커널이 VMD 드라이버를 로드하지 않으면 NVMe 장치가 `/dev/nvme*`로 나타나지 않음.

2. **UEFI 전용 부팅**
   - Legacy 모드가 없으므로, 설치 시에도 UEFI 환경에서만 동작.
   - Secure Boot는 꺼져 있어도 VMD 인식 문제에는 영향 없음.

3. **Ubuntu 기본 설치 환경의 드라이버 미로드**
   - Ubuntu 24.04 커널에는 `vmd` 모듈이 포함돼 있지만, 설치 시 자동 로드가 안 되는 경우가 많음.

---

## 🛠 해결 방법

### 1. BIOS에서 VMD 끄기 (가능한 경우)
- **Advanced** 메뉴 → **Intel VMD Controller** 항목을 찾아 **Disabled**로 변경  
  (Acer BIOS에서는 `Ctrl + S`를 눌러야 숨겨진 SATA/VMD 옵션이 나타나는 경우가 많음)
- 저장 후 재부팅 → Ubuntu 설치 USB 부팅 → SSD 인식 확인

> ⚠️ 일부 게이밍 노트북은 이 옵션이 완전히 잠겨 있을 수 있습니다.

---

### 2. VMD를 끄지 못할 때 — Ubuntu에서 드라이버 로드
BIOS에서 VMD를 끌 수 없다면, 설치 시 수동으로 `vmd` 모듈을 로드해야 합니다.

#### 설치 USB에서 Live 모드 진입 후:
```bash
sudo modprobe vmd
lsblk   # SSD가 나타나는지 확인
```

#### 설치 화면에서 GRUB 편집:
1. 설치 USB 부팅 시 `Try or Install Ubuntu` 화면에서 `e` 키
2. `linux`로 시작하는 줄 끝에 다음 추가:
```
nvme_load=YES vmd_load=YES
```
3. `Ctrl + X` 또는 `F10`으로 부팅

이렇게 하면 설치 프로그램이 VMD 하위 NVMe를 인식합니다.

---

### 3. 설치 후 부팅 시에도 적용
설치가 끝난 뒤에도 SSD 인식이 안 되면 `/etc/modules`에 `vmd`를 추가:
```bash
echo vmd | sudo tee -a /etc/modules
```
그리고 initramfs 갱신:
```bash
sudo update-initramfs -u
```

---

## 💡 추가 팁
- **BIOS 업데이트**: Acer에서 최신 BIOS를 설치하면 VMD 옵션이 노출되거나 호환성이 개선되는 경우가 있습니다.
- **Ubuntu Server 버전**: Desktop보다 RAID/VMD 환경에서 인식률이 높습니다. 설치 후 GUI를 추가할 수 있습니다.
- **Windows와 듀얼부팅**: VMD를 끄면 Windows가 부팅 불가해질 수 있으니, 듀얼부팅 시 주의가 필요합니다.

---

원하시면 제가 **PHN16-73 전용 BIOS에서 VMD 옵션을 꺼내는 숨겨진 키 조합**과 메뉴 경로를 구체적으로 찾아서 알려드릴 수도 있습니다.  
그렇게 하면 Ubuntu 설치가 훨씬 간단해집니다.  
이걸 바로 찾아드릴까요?

